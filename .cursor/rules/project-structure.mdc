---
description: 
globs: 
alwaysApply: true
---
# Project Structure Guide

This project simulates a Windows XP-like desktop environment in the browser. Below is an overview of the main structure and file responsibilities:

## Main Entry Point
- [index.html](mdc:index.html): The main HTML file. It loads the boot, login, desktop, and taskbar UI, and includes the main JavaScript entry point and stylesheets.

## Source Directory
- [src/](mdc:src): Contains all source code and styles.
  - [src/scripts/main.js](mdc:src/scripts/main.js): JavaScript entry point. Initializes the desktop, taskbar, window manager, boot sequence, and global event handling.
  - [src/scripts/utils/boot.js](mdc:src/scripts/utils/boot.js): Handles the boot animation, login process, and session management.
  - [src/scripts/utils/eventBus.js](mdc:src/scripts/utils/eventBus.js): Implements a publish-subscribe event bus for decoupled communication between components.
  - [src/scripts/utils/programRegistry.js](mdc:src/scripts/utils/programRegistry.js): Central registry for all available applications, their properties, and window configuration.
  - [src/scripts/utils/tooltip.js](mdc:src/scripts/utils/tooltip.js): Utility for XP-style tooltips.
  - [src/scripts/utils/crtEffect.js](mdc:src/scripts/utils/crtEffect.js): Handles CRT visual effects overlay.
  - [src/scripts/gui/desktop.js](mdc:src/scripts/gui/desktop.js): Manages desktop icons, selection, drag, and wallpaper logic.
  - [src/scripts/gui/window.js](mdc:src/scripts/gui/window.js): Handles all window operations (create, focus, minimize, maximize, close, drag, cascade).
  - [src/scripts/gui/taskbar.js](mdc:src/scripts/gui/taskbar.js): Manages the taskbar, start menu, system tray, and clock.
  - [src/scripts/gui/startMenu.js](mdc:src/scripts/gui/startMenu.js): Handles the start menu UI, menu items, and integration with the event bus.

## Styles
- [src/styles/main.css](mdc:src/styles/main.css): Main stylesheet for the application.
- [src/styles/utils/](mdc:src/styles/utils): Utility styles (e.g., reset, login, boot, iframe apps).
- [src/styles/gui/](mdc:src/styles/gui): Styles for taskbar, window, start menu, and desktop components.

## Assets
- [assets/gui/](mdc:assets/gui): Contains images for the desktop, boot, taskbar, and start menu.
- [assets/sounds/](mdc:assets/sounds): Contains sound effects for login and logoff.

## Application Registry
- Applications are defined in [src/scripts/utils/programRegistry.js](mdc:src/scripts/utils/programRegistry.js) and loaded as iframes from `src/apps/` (not shown here).

## Event System
- The event bus ([src/scripts/utils/eventBus.js](mdc:src/scripts/utils/eventBus.js)) is used for all inter-component communication, such as opening programs, window management, and UI state changes.

---

For more details on a specific component, see the referenced file in this rule.
