/*
 * projects.css â€” Styles for Projects App in Windows XP Simulation
 * Styles the My Projects window, feed, lightbox, and responsive layout.
 * @file projects.css
 */

/* Universal Reset from example - might need adjustment if conflicting with xp.css */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box; /* Removed !important */
}

/* ===== Base Layout & Background ===== */
html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    color: #333; /* Original text color, example uses #f2f2f2 */
    width: 100%;
    background-color: #111; /* Dark background for the lines effect */
    position: relative; /* For potential pseudo-elements if needed later */
    overflow-x: hidden; /* Good practice */
}

html {
    background:
        radial-gradient(rgba(255,255,255,0.03) 1px, transparent 0) top left / 3px 3px repeat,
        linear-gradient(to bottom, rgb(45,45,45) 0%, rgb(30,30,30) 35%, rgb(30,30,30) 100%);
    min-height: 100vh;
    /* Removed html::before and @keyframes scrollAnimatedLines */
}

/* Soft edge lighting */
html::before,
html::after {
    content: '';
    position: absolute;
    top: 0;
    height: 100%;
    width: 50%; /* Controls how far the light appears to spread from the edge */
    pointer-events: none; 
    z-index: 0; /* Above html direct background, below body content (including lines) */
}

html::before {
    left: 0;
    background: radial-gradient(
        ellipse at left center, 
        rgba(255, 255, 255, 0.2) 0%,  
        transparent 70%  
    );
}

html::after {
    right: 0;
    background: radial-gradient(
        ellipse at right center, 
        rgba(255, 255, 255, 0.2) 0%, 
        transparent 70%
    );
}

body {
    /* display: table; */ /* REMOVED - was likely causing layout issues */
    width: 100%;
    height: 100%;
    background-color: transparent;  /* Body should be transparent over HTML's #111 bg */
    color: #f2f2f2; /* Text color from user example - for lines, app content should override */
    line-height: 1.6;
    position: relative; /* For .lines positioning and .scroll-content */
    font-family: sans-serif; /* From user example, can be overridden by app specifics */
    /* overflow: hidden; */ /* REMOVED for now - to ensure content isn't clipped */
    /* Removing previous body background animation and styles if any */
}

/* Original @keyframes background - Kept for body if needed, but html has main bg now */
@keyframes background { 
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.scroll-content {
    height: 100%; 
    overflow-y: auto; 
    position: relative; 
    z-index: 10; /* High z-index to be on top of lines */
    background-color: transparent; 
    color: #333; /* Restore original app text color for content */
}


/* === Animated Lines Styling (Adapted for Left-to-Right Sweep) === */
.lines {
  position: absolute;
  top: 30px; /* Shifted down by 30px */
  left: 0;
  /* right: 0; */ /* Not needed if left:0 and width:100% */
  height: calc(100% - 30px); /* Adjusted height to fit within viewport after top shift */
  /* margin: auto; */ /* Not needed if left:0 and width:100% */
  width: 100%; /* Make lines span full width */
  display: flex;
  flex-direction: column; /* Stack horizontal lines vertically */
  justify-content: space-around; /* Distribute lines vertically */
  z-index: 1; 
  pointer-events: none; 
}

.line {
  position: relative;
  width: 100%; /* Line track is full width */
  height: 1px;  /* Thin horizontal line */
  background-color: transparent; /* Track is invisible */
  overflow: hidden;
}

.line::after {
  content: '';
  display: block;
  position: absolute;
  height: 100%; 
  width: 20vw;  
  top: 0;
  left: 0; 
  transform: translateX(-20vw); 
  opacity: 0; /* Initial state: invisible */
  /* All lines are now white (slightly transparent white with faded edges) */
  background: linear-gradient(to right, 
              rgba(255,255,255,0) 0%,      
              rgba(255,255,255,0.6) 30%,   
              rgba(255,255,255,0.6) 70%,   
              rgba(255,255,255,0) 100%
            );
  animation: sweepLeftToRight 7s 0s infinite;
  animation-fill-mode: forwards;
  animation-timing-function: cubic-bezier(0.4, 0.26, 0, 0.97);
}

/* Remove or comment out these color-setting rules for .line as they are no longer needed for color */
/*
.line:nth-child(1) { --line-color: #FF4500; animation-delay: 0.5s; } 
.line:nth-child(2) { --line-color: #32CD32; animation-delay: 1s; }
.line:nth-child(3) { --line-color: #1E90FF; animation-delay: 1.5s; }
.line:nth-child(4) { --line-color: #FFD700; animation-delay: 2s; }
.line:nth-child(5) { --line-color: #8A2BE2; animation-delay: 2.5s; }
.line:nth-child(6) { --line-color: #20B2AA; animation-delay: 3s; }
.line:nth-child(7) { --line-color: #DC143C; animation-delay: 3.5s; }
.line:nth-child(8) { --line-color: #00FA9A; animation-delay: 4s; }
.line:nth-child(9) { --line-color: #FF1493; animation-delay: 4.5s; }
.line:nth-child(10) { --line-color: #00BFFF; animation-delay: 5s; }
*/

/* Updated animation-delay rules for 5 .line::after for more randomness */
.line:nth-child(1)::after { animation-delay: 0.5s; }
.line:nth-child(2)::after { animation-delay: 2.0s; }
.line:nth-child(3)::after { animation-delay: 3.5s; }
.line:nth-child(4)::after { animation-delay: 5.0s; }
.line:nth-child(5)::after { animation-delay: 6.0s; }
/* Rules for .line:nth-child(6) through :nth-child(10) to be removed or commented out */


@keyframes sweepLeftToRight {
  0% {
    transform: translateX(-20vw); 
    opacity: 0;
  }
  5% { /* Quicker to start becoming visible */
    transform: translateX(-15vw);
    opacity: 0;
  }
  15% { /* Quicker to full visibility */
    transform: translateX(0vw);   
    opacity: 1;
  }
  85% { /* Stays visible, then starts to exit */
    transform: translateX(85vw);  
    opacity: 1;
  }
  95% { /* Quicker to fade out */
    transform: translateX(100vw); 
    opacity: 0;
  }
  100% {
    transform: translateX(105vw); /* Ensures it's fully off screen */
    opacity: 0;
  }
}

/* Remove old @keyframes drop */

/* ====== Feed Container & Posts ====== */
.feed-container {
    position: relative; /* Added for absolute positioning of posts */
    padding: 10px;
    box-sizing: border-box;
    margin-left: auto;
    margin-right: auto;
    opacity: 0; /* Initially hidden to prevent FOUC */
    transition: opacity 0.3s ease-in-out; /* Smooth transition for reveal */
}

.feed-container.loaded {
    opacity: 1; /* Reveal when content is loaded and layout is applied */
}

/* Tablet and Small Desktop: 3 columns (Changed from 2) */
@media (min-width: 768px) {
    .feed-container {
        padding: 40px;
        max-width: 1072px;
    }

    .post {
        max-width: 320px;
    }
}

/* Large Desktop: 4 columns (Changed from 3) */
@media (min-width: 1200px) {
    .feed-container {
        max-width: 1408px;
    }
}

.post {
    border-radius: 8px;
    margin: 0 0 12px 0; /* Keep bottom margin for spacing */
    width: 100%; /* JS will set specific width for items in columns */
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.692);
    overflow: hidden;
    cursor: pointer;
    position: relative;
}

.post:last-child {
    margin-bottom: 0;
    background-color: #2ecc71; /* Green for videos */
}

.post.image-post img {
    display: block; /* Remove potential bottom space */
    width: 100%;   /* Fill container width */
    height: auto;  /* Maintain aspect ratio */
}

.post.video-post video {
    display: block;
    width: 100%;
    height: unset;
    min-height: 180px;
    aspect-ratio: 9/16;
    min-width: 100%;
    object-fit: fill;
    box-sizing: border-box;
}

.placeholder-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: white;
    font-weight: bold;
    text-align: center;
    padding: 10px;
    box-sizing: border-box;
}

.image-placeholder {
    width: 100%;
    aspect-ratio: 1080 / 1350;
    background-color: #3498db; /* Blue for images */
}

.video-placeholder {
    width: 100%;
    aspect-ratio: 1080 / 1920;
    background-color: #2ecc71; /* Green for videos */
}

.post-caption {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 2;
    display: flex;
    flex-direction: column; /* Stack items vertically */
    justify-content: flex-end; /* Push content to the bottom */
    padding: 18px 16px 14px 16px;
    color: #fff;
    font-size: 1.08rem;
    font-weight: 500;
    line-height: 1.4;
    background: linear-gradient(0deg, rgba(20,20,20,0.92) 70%, rgba(20,20,20,0.0) 100%);
    opacity: 0;
    pointer-events: none;
    transform: translateY(100%);
    transition: opacity 0.28s cubic-bezier(0.4,0,0.2,1), transform 0.32s cubic-bezier(0.4,0,0.2,1);
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
}

.post.show-caption .post-caption {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
}

/* Lightbox Styles */
#project-lightbox {
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.25s cubic-bezier(0.4,0,0.2,1);
    display: none; /* display is toggled by JS */
    justify-content: center; 
    align-items: center; 
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100dvh; 
    background-color: rgba(30, 30, 30, 0.9) !important; /* Inverted: Dark semi-transparent background */
    z-index: 100010; 
    padding: 20px;
    box-sizing: border-box;
    overflow-y: auto;
}

#project-lightbox.fade-in {
    opacity: 1;
    pointer-events: auto;
}

#project-lightbox.fade-out {
    opacity: 0;
    pointer-events: none;
}

#lightbox-inner-wrapper {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 1440px;
    height: 100%;
    box-sizing: border-box;
    overflow: visible !important;
}

#lightbox-content {
    position: relative;
    display: flex;
    align-items: flex-end;
    justify-content: center;
}

#lightbox-content img,
#lightbox-content video {
    display: block;
    width: 100%;
    height: auto;
    position: relative;
    z-index: 1;
    margin: 0;
    padding: 0;
    border-radius: 20px;
}

#project-lightbox.fade-in #lightbox-content img,
#project-lightbox.fade-in #lightbox-content video {
    opacity: 1;
}

#project-lightbox.fade-out #lightbox-content img,
#project-lightbox.fade-out #lightbox-content video {
    opacity: 0;
}

#lightbox-details {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 90vw;
    text-align: center;
    background-color: #333;
    border-radius: 20px;
    flex-grow: 1;
    min-height: 0;
}

/* General Lightbox Text Styles (primarily for Desktop) */
#lightbox-title {
    color: #f1f1f1;
    font-size: 1.9rem;
    font-weight: 700;
    line-height: 1.2;
    margin-top: 10px; /* Base margin, can be overridden by desktop */
}

#lightbox-subheading {
    color: #cccccc; 
    font-size: 1.2rem; 
    font-weight: 600; 
    line-height: 1.4;
    margin-top: 4px; /* Base margin */
}

#lightbox-description {
    color: #f1f1f1;
    font-size: 0.9rem;
    line-height: 1.5;
    margin-top: 10px; 
    margin-bottom: 15px; 
}

/* Mobile Layout (becomes Base Layout) */
#project-lightbox {
  height: 100vh; 
  min-height: 100vh;
  align-items: center;
  justify-content: center;
  padding: 0; 
  margin: 0;
  overflow: hidden;
}
#project-lightbox #lightbox-inner-wrapper { 
  height: 100vh;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 0;
  margin: 0;
}
#project-lightbox #lightbox-content { 
  height: 100vh;
  min-height: 100vh;
  max-height: 100vh;
  width: 100vw;
  max-width: 100vw;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  margin: 0;
}

#project-lightbox #lightbox-title, 
#project-lightbox #lightbox-subheading, 
#project-lightbox #lightbox-description { 
    display: none;
}

#project-lightbox #lightbox-details { 
    justify-content: center;
    background-color: transparent;
    padding: 0;
    flex-grow: 0; 
}

#project-lightbox #lightbox-content img, 
#project-lightbox #lightbox-content video { 
  max-width: calc(100vw - 24px);
  max-height: calc(100vh - 24px);
  width: auto;
  height: auto;
  object-fit: contain;
  display: block;
  padding: 0;
  border: none;
}

/* Ensure .video-post is positioned for overlay */
.video-post {
  position: relative;
}

@media (min-width: 768px) { 
    #lightbox-content {
      align-items: center; 
    }
    .lightbox-media-wrapper {
      display: flex !important; 
      flex-direction: row; 
      align-items: stretch; 
      justify-content: center; 
      position: relative; 
      min-height: 320px; 
      height: 90vh; 
      width: 90vw; /* Always 90% of viewport width */
      max-width: 100%; /* Ensures it doesn't exceed its parent's width constraints */
      margin-left: auto; /* To center the 90vw block */
      margin-right: auto; /* To center the 90vw block */
    }
    .lightbox-desc-card {
      background: rgba(223, 223, 223, 0.877) !important; /* Inverted: Light semi-transparent background */
      width: 95% !important; /* Changed from 90% */
    }

    /* Styling for title, subheading, body within the description card */
    .lightbox-media-wrapper .lightbox-desc-card .card-title {
        font-size: 1.8rem;
        font-weight: 600;
        color: #222 !important; /* Inverted: Dark text */
        margin-bottom: 4px;
        line-height: 1.2;
        /* text-transform: uppercase; */
    }

    .lightbox-media-wrapper .lightbox-desc-card .card-subheading {
        font-size: 1.1rem;
        font-weight: 600;
        color: #555 !important; /* Inverted: Darker gray text */
        margin-bottom: 12px;
        line-height: 1.3;
        opacity: 0.85; /* Slightly less prominent */
    }

    .lightbox-media-wrapper .lightbox-desc-card .card-body {
        font-size: 0.9rem; /* Slightly smaller body text */
        font-weight: 400;
        color: #333 !important; /* Inverted: Dark body text */
        line-height: 1.6;
        margin-top: 18px; /* Added top margin */
    }

    /* Software Icons Styling */
    .lightbox-media-wrapper .lightbox-desc-card .card-software-section {
        display: flex;
        flex-wrap: wrap; /* Allow section to wrap if needed, though unlikely here */
        justify-content: space-between; /* Label left, icons right */
        align-items: center;
        margin-top: auto; /* Push to the bottom of the card */
        padding-top: 16px; /* Reduced top padding */
        border-top: 1px solid rgba(0, 0, 0, 0.1); /* Subtle separator line */
    }

    .lightbox-media-wrapper .lightbox-desc-card .software-section-label {
        font-size: 1rem; /* Match main subheading */
        font-weight: 600;
        color: #555; /* Match main subheading */
        margin-right: 16px; /* Space between label and icon group */
        opacity: 0.85; /* Match main subheading */
    }

    .lightbox-media-wrapper .lightbox-desc-card .software-icons-list {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 24px; /* Space between individual icons */
    }

    .lightbox-media-wrapper .lightbox-desc-card .software-icon {
        width: 30px !important; /* Icons smaller by 2px */
        height: 30px !important; /* Icons smaller by 2px */
        margin-bottom: 6px; /* Reduced bottom margin for wrapped icons */
        object-fit: contain;
        border: none !important; /* Force remove any borders */
        border-radius: 0 !important; /* Ensure icons are square */
    }

    /* Software Tooltip Styling */
    .lightbox-desc-card .software-tooltip {
        position: absolute;
        background-color: transparent; /* Removed background */
        color: #222; /* Text color to match card body text */
        padding: 0; /* Removed padding */
        border-radius: 0; /* Removed border-radius */
        font-size: 0.85rem; /* Adjusted for potentially better readability without bg */
        font-weight: 600; /* Adjusted for potentially better readability */
        z-index: 10;
        opacity: 0;
        visibility: hidden;
        transform: translateY(5px); /* Start slightly lower */
        transition: opacity 0.2s ease-out, visibility 0.2s ease-out, transform 0.2s ease-out;
        pointer-events: none; /* Tooltip itself should not capture mouse events */
        white-space: nowrap; /* Prevent name from wrapping */
        text-shadow: 0px 0px 1px rgba(255, 255, 255, 0.6); /* Subtle shadow for readability */
    }

    .lightbox-desc-card .software-tooltip.visible {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    body.projects-window-maximized .lightbox-media-wrapper.video-media-active .lightbox-desc-card {
        padding-right: 64px; /* Apply extra right padding for videos only when maximized */
    }

    .lightbox-desc-card .lightbox-close-btn {
        position: absolute;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10;
        width: 28px;
        height: 28px;
        background: transparent !important;
        border: 1.5px solid #333 !important; /* Inverted: Dark border */
        border-radius: 50%;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0,0,0,0.16);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        overflow: hidden;
        transition: none !important;
    }
    .lightbox-desc-card .lightbox-close-btn:hover {
        background: transparent !important;
        border-color: #777 !important; /* Softer dark grey border on hover */
        box-shadow: inset 0 0 6px 2px rgba(119, 119, 119, 0.35); /* Soft inner glow effect */
    }
    .lightbox-desc-card .lightbox-close-btn:hover svg {
        stroke: #777 !important; /* Softer dark grey stroke on hover */
    }

    .lightbox-media-wrapper > img,
    .lightbox-media-wrapper > div, /* for video wrapper */
    .lightbox-media-wrapper > video {
      height: 100% !important;
      max-height: 100% !important;
      object-fit: contain !important;
    }
    .lightbox-media-wrapper > div > video {
      height: 100% !important;
      max-height: 100% !important;
      object-fit: contain !important;
    }

    .lightbox-desc-card .lightbox-close-btn,
    .lightbox-desc-card .lightbox-close-btn:hover {
      align-items: center !important;
    }
    .lightbox-desc-card .lightbox-close-btn .close-icon,
    .lightbox-desc-card .lightbox-close-btn .close-text {
      line-height: 1;
      vertical-align: middle;
    }
}

/* Hide navigation buttons and hint on mobile */
@media (max-width: 767px) {
  .lightbox-media-wrapper {
    position: relative;
    overflow: hidden;
    border-radius: 20px; /* Ensure the clipping container is also rounded */
  }
  .lightbox-description-overlay, .lightbox-title-overlay { /* Apply common mobile overlay animation base */
    position: absolute;
    left: 0;
    right: 0;
    z-index: 10;
    transition: none !important;
    opacity: 0;
    pointer-events: none;
    animation: none;
  }
  .lightbox-description-overlay.show, .lightbox-title-overlay.show {
    opacity: 1;
    pointer-events: auto;
  }
  .lightbox-description-overlay.hide-anim, .lightbox-title-overlay.hide-anim {
    opacity: 0;
    pointer-events: none;
  }

  /* Specific for bottom description overlay */
  .lightbox-description-overlay {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 2;
    display: flex;
    flex-direction: column; /* Stack items vertically */
    padding: 40px 24px 18px 24px; /* Matched bottom padding to left padding */
    color: #fff; /* Changed to white */
    font-size: 0.95rem;
    font-weight: 500;
    line-height: 1.4;
    background: linear-gradient(0deg, rgba(20,20,20,0.95) 70%, rgba(20,20,20,0.78) 80%, rgba(20,20,20,0.60) 85%, rgba(20,20,20,0.35) 90%, rgba(20,20,20,0.0) 100%); /* Higher dark area, very smooth fade */
    pointer-events: none;
    transform: translateY(16px);
    transition: none !important;
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
    max-width: 100%;
    box-sizing: border-box;
  }
  .lightbox-description-overlay.show {
    transform: translateY(0);
    animation: mobileBottomOverlaySlideIn 400ms cubic-bezier(0.4,0,0.2,1) forwards;
  }
  .lightbox-description-overlay.hide-anim {
    transform: translateY(16px);
    animation: mobileBottomOverlaySlideOut 250ms cubic-bezier(0.4,0,0.2,1) forwards; /* Duration 250ms */
  }

  /* Specific for top title overlay */
  .lightbox-title-overlay {
    top: 0;
    transform: translateY(-24px); /* Start hidden above with a fixed offset */
    display: flex; /* Ensure it is a flex container for alignment */
    align-items: center; /* Vertically center text */
    justify-content: space-between; /* Title left, icon right */
    padding: 24px 24px 36px 24px; /* Bottom padding set to 36px */
    background: linear-gradient(180deg, rgba(20,20,20,0.95) 0%, rgba(20,20,20,0.90) 20%, rgba(20,20,20,0.78) 40%, rgba(20,20,20,0.60) 60%, rgba(20,20,20,0.35) 80%, rgba(20,20,20,0.0) 100%); /* Mirrored bottom overlay's smooth gradient */
    border-top-left-radius: 20px; /* Match media radius */
    border-top-right-radius: 20px; /* Match media radius */
    /* Text styling to match bottom overlay */
    color: #fff;
    font-size: 1.6rem;
    font-weight: 700;
    line-height: 1.3;
    /* text-transform: uppercase; */
  }

  .lightbox-overlay-title-text { /* New class for the title span */
      flex-grow: 1; /* Allow title to take available space */
      margin-right: 10px; /* Space between title and icon */
      text-align: left; /* Ensure title text is left-aligned */
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap; /* Keep title on one line, ellipsis if too long */
  }

  .mobile-title-link-icon {
    display: inline-flex; 
    align-items: center;
    justify-content: center;
    flex-shrink: 0; /* Prevent icon from shrinking */
  }

  .mobile-title-link-icon img {
    width: 34px !important;  /* Increased by 2px */
    height: 34px !important; /* Increased by 2px */
    display: block;
    object-fit: contain; /* Added for better scaling */
    border-radius: 0 !important; /* Ensure icons are square */
  }

  .lightbox-title-overlay.show {
    transform: translateY(0);
    animation: mobileTopOverlaySlideIn 400ms cubic-bezier(0.4,0,0.2,1) forwards;
  }
  .lightbox-title-overlay.hide-anim {
    transform: translateY(-24px); /* Match initial hidden state */
    animation: mobileTopOverlaySlideOut 250ms cubic-bezier(0.4,0,0.2,1) forwards; /* Duration 250ms */
  }
}


.lightbox-description-overlay.show { /* Renamed */
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
  transition: none !important;
}

.lightbox-media-wrapper img,
.lightbox-media-wrapper video {
  max-height: 100%; 
  min-width: 0; 
  min-height: 0; 
  flex: 0 0 auto; 
  margin-right: 0; 
  display: block; 
  object-fit: contain; 
  z-index: 2;
}

.lightbox-media-wrapper .lightbox-desc-card {
  margin-left: auto; 
  margin-right: 0; 
  height: 100%; 
  border-radius: 18px;
  background: rgba(240, 240, 240, 0.95); /* Inverted: Ensure this also uses light background */
  display: flex; 
  flex-direction: column;
  font-size: 1.13rem;
  font-weight: 500;
  color: #333; /* Inverted: Default dark text for card */
  z-index: 1;
  box-sizing: border-box;
  opacity: 0; 
  transform: translateX(-40px); 
  transition: opacity 0.3s, transform 0.3s; 
  overflow: auto; 
  padding: 40px 30px 30px 30px; 
  text-align: left; 
  white-space: normal; 
  word-break: break-word; 
  flex-shrink: 1; 
}

/* Renamed mobileDescOverlaySlideIn to mobileBottomOverlaySlideIn */
@keyframes mobileBottomOverlaySlideIn {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Renamed mobileDescOverlaySlideOut to mobileBottomOverlaySlideOut */
@keyframes mobileBottomOverlaySlideOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(16px);
  }
}

/* New animations for top title overlay */
@keyframes mobileTopOverlaySlideIn {
  from {
    opacity: 0;
    transform: translateY(-24px); /* Match initial state */
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes mobileTopOverlaySlideOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-24px); /* Match initial hidden state */
  }
}

.desc-card-anim-wrapper {
  min-width: 0;
  max-width: 600px;
  overflow: hidden;
  display: flex;
  flex: 1 1 auto;
  margin-left: 15px;
  border-radius: 18px;
}

.lightbox-media-wrapper.video-media-active .desc-card-anim-wrapper {
  max-width: 450px;
}

body.projects-window-maximized .lightbox-media-wrapper.video-media-active .desc-card-anim-wrapper {
  max-width: 545px;
}

.lightbox-media-wrapper.desc-visible .desc-card-anim-wrapper {
  opacity: 1;
  transform: translateX(0);
}

.lightbox-media-wrapper.desc-visible .lightbox-desc-card {
  opacity: 1;
  transform: translateX(0);
}

body, .scroll-content, .feed-container, .post, .main-window-content {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Allow selection in links (if needed) */
.post a, a {
  user-select: text;
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
}

.mute-icon-overlay {
  position: absolute;
  top: 18px;
  left: 18px;
  z-index: 10;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s cubic-bezier(0.4,0,0.2,1);
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.mute-icon-overlay.show {
  opacity: 1;
  transition: opacity 0.18s cubic-bezier(0.4,0,0.2,1);
}

@media (max-width: 768px) {
  .mute-icon-overlay {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 44px;
    height: 44px;
  }
  .mute-icon-overlay svg {
    width: 44px;
    height: 44px;
  }
}

.video-spinner-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 20;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px !important;
  height: 48px !important;
  min-width: 48px;
  min-height: 48px;
  max-width: 48px;
  max-height: 48px;
  pointer-events: none;
}
.video-spinner {
  width: 48px !important;
  height: 48px !important;
  min-width: 48px;
  min-height: 48px;
  max-width: 48px;
  max-height: 48px;
  border: 4px solid rgba(255,255,255,0.25);
  border-top: 4px solid #fff;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  box-sizing: border-box;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.mute-icon-overlay img {
  box-shadow: none !important;
  background: none !important;
}

/* Push text span to bottom of overlay */
.lightbox-description-overlay > span {
    margin-top: auto;
}

/* In projects.js, the close button SVG is created with stroke="#fff" initially.
   We need to either modify that JS or override with CSS. CSS override is simpler. */
.lightbox-desc-card .lightbox-close-btn svg line {
    stroke: #333 !important; /* Inverted: Dark stroke for lines */
}